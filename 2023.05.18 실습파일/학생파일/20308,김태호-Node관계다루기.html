<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Node 관계 다루기</title>
  <style>
    button{
      margin: 5px;
    }
  </style>
</head>

<body>
  <h1>각 버튼을 클릭해보세요</h1>
  <p id="first_title">container</p>
  <div id="container" style="border: 5px solid black; height: 100px;">
    <button class="btn"> 1번 </button>
    <button class="btn"> 2번 </button>
    <button class="btn"> 3번 </button>
  </div>
  <p id="second_title">targetContainer</p>
  <div id="targetContainer" style="border: 1px solid black; height: 100px;"></div>
  <script type="text/javascript">

    const btns = document.querySelectorAll("#container > .btn");
    console.log(btns)

    // p태그 생성
    const p_tag = document.createElement("p");

    p_tag.textContent = "모든 버튼 이동 완료"

    for(let item of btns){
      item.addEventListener("click",(e)=>{
        console.log(e.target.parentNode);
        // 클릭한 버튼의 부모 태그를 targetParent에 저장
        let targetParent = e.target.parentNode;

        // 현재 버튼의 부모 태그를 판별
        if(targetParent.id == "container"){
          let target = document.getElementById("targetContainer")
          // 클릭한 버튼을 targetContainer에 삽입
          // 부모노드.appendchilid(삽입할 노드);
          // 부모노드 => targetContainer, 삽입할 노드 => 버튼
          console.log(target)

          target.appendChild(e.target);

          // 모든 버튼이 이동했는지 판별
          // (1) container 버튼 갯수가 0

          //(2) targetContainer에 버튼 갯수가 3개
          if(target.children.length == btns.length){
        p_tag.textContent="모든 버튼 이동 완료";

        console.log(p_tag)

        //first_title에 생성한 p태그를 삽입

        //targetParent의 이전 형제 => first_title

        console.log(targetParent.previousElementSibling)

        let container_title = targetParent.previousElementSibling

        container_title.appendChild(p_tag)


          }


        }else{

          let target = document.getElementById("container")
          // 클릭한 버튼을 targetContainer에 삽입
          // 부모노드.appendchilid(삽입할 노드);
          // 부모노드 => targetContainer, 삽입할 노드 => 버튼
          console.log(target)

          target.appendChild(e.target);

          // 모든 버튼이 이동했는지 판별
          // (1) container 버튼 갯수가 0

          //(2) targetContainer에 버튼 갯수가 3개
          if(target.children.length == btns.length){
        p_tag.textContent="모든 버튼 이동 완료";

        console.log(p_tag)

        //first_title에 생성한 p태그를 삽입

        //targetParent의 이전 형제 => first_title

        console.log(targetParent.previousElementSibling)

        let container_title = targetParent.previousElementSibling

        container_title.appendChild(p_tag)


          }

          


          


        }


      });
    }





   
  </script>
</body>

</html>